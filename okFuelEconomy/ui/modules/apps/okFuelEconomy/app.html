<div class="bngApp"
     ng-attr-style="{{ 'width:100%; height:100%; overflow:auto; position:relative;' + (useCustomStyles ? ' padding:4px; border-radius:10px; background-color:rgba(10,15,20,0.75); background-image:linear-gradient(rgba(0,200,255,0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(0,200,255,0.05) 1px, transparent 1px); background-size:16px 16px,16px 16px; color:#aeeaff; font-family: Segoe UI, Tahoma, Geneva, Verdana, sans-serif; letter-spacing:0.3px; box-shadow: inset 0 0 10px rgba(0,200,255,0.25);' : '') }}"
     layout="column">

  <strong ng-if="visible.heading"
          ng-attr-style="{{ useCustomStyles ? 'display:block; margin:2px 0 4px; padding-left: 2px; font-size:1em; font-weight:600; color:#3fd6ff; text-shadow:0 0 5px rgba(0,255,255,0.6);' : '' }}">
    Fuel Economy: {{ vehicleNameStr }}
  </strong>

  <table ng-attr-style="{{ useCustomStyles ? 'width:100%; border-collapse:collapse; font-size:0.85em;' : '' }}">
    <tr ng-if="visible.distanceMeasured || visible.distanceEcu">
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; width:38%; color:#69e0ff; font-weight:500; text-shadow:0 0 3px rgba(0,255,255,0.4); border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        Traveled distance:
      </td>
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#ccefff; border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        <span ng-if="visible.distanceMeasured" id="distanceMeasuredDisplay">Measured: {{ data1 }}</span>
        <span ng-if="visible.distanceMeasured && visible.distanceEcu"> | </span>
        <span ng-if="visible.distanceEcu">From ECU: {{ data6 }}</span>
      </td>
    </tr>

    <tr ng-if="visible.fuelUsed || visible.fuelLeft || visible.fuelCap">
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; width:38%; color:#69e0ff; font-weight:500; text-shadow:0 0 3px rgba(0,255,255,0.4); border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        Fuel:
      </td>
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#ccefff; border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        <span ng-if="visible.fuelUsed" id="fuelUsedDisplay">Used: {{ fuelUsed }}</span>
        <span ng-if="visible.fuelUsed && (visible.fuelLeft || visible.fuelCap)"> | </span>
        <span ng-if="visible.fuelLeft">Left: {{ fuelLeft }}</span>
        <span ng-if="visible.fuelLeft && visible.fuelCap"> | </span>
        <span ng-if="visible.fuelCap">Capacity: {{ fuelCap }}</span>
      </td>
    </tr>

    <tr ng-show="visible.fuelType">
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; width:38%; color:#69e0ff; font-weight:500; text-shadow:0 0 3px rgba(0,255,255,0.4); border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        Fuel type:
      </td>
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#ccefff; border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        <span>{{ fuelType }}</span>
      </td>
    </tr>

    <tr ng-show="visible.costPrice">
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; width:38%; color:#69e0ff; font-weight:500; text-shadow:0 0 3px rgba(0,255,255,0.4); border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        Fuel price:
      </td>
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#ccefff; border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        <span>{{ costPrice }}</span>
      </td>
    </tr>

    <tr ng-if="visible.avgCost">
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; width:38%; color:#69e0ff; font-weight:500; text-shadow:0 0 3px rgba(0,255,255,0.4); border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        Average fuel cost:
      </td>
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#ccefff; border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        <span>{{ avgCost }}</span>
      </td>
    </tr>

    <tr ng-if="visible.totalCost">
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; width:38%; color:#69e0ff; font-weight:500; text-shadow:0 0 3px rgba(0,255,255,0.4); border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        Total fuel cost:
      </td>
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#ccefff; border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        <span>{{ totalCost }}</span>
      </td>
    </tr>

    <tr ng-if="visible.avgL100km || visible.avgKmL">
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#69e0ff; font-weight:500; text-shadow:0 0 3px rgba(0,255,255,0.4); border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        Average consumption:
      </td>
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#ccefff; border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        <span ng-if="visible.avgL100km">{{ avgL100km }}</span>
        <span ng-if="visible.avgL100km && visible.avgKmL"> | </span>
        <span ng-if="visible.avgKmL">{{ avgKmL }}</span>
      </td>
    </tr>

    <tr ng-if="visible.avgCO2">
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#69e0ff; font-weight:500; text-shadow:0 0 3px rgba(0,255,255,0.4); border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        Average CO2 emissions:
      </td>
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#ccefff; border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        {{ avgCO2 }}<span ng-if="avgCo2Compliant && avgCo2Class"> | <svg class="euStarIcon" viewBox="0 0 27 18" style="width:1em; height:1em; vertical-align:-0.1em; margin-right:2px; fill:currentColor"><defs><g id="s"><g id="c"><path id="t" d="M0,0 L0,1 L0.5,1 Z" transform="matrix(0.9510565,0.309017,-0.309017,0.9510565,0,-1)"/><use xlink:href="#t" transform="scale(-1,1)"/></g><use xlink:href="#c" transform="matrix(0.309017,0.9510565,-0.9510565,0.309017,0,0)"/><use xlink:href="#c" transform="matrix(-0.809017,0.5877853,-0.5877853,-0.809017,0,0)"/><use xlink:href="#c" transform="matrix(-0.809017,-0.5877853,0.5877853,-0.809017,0,0)"/><use xlink:href="#c" transform="matrix(0.309017,-0.9510565,0.9510565,0.309017,0,0)"/></g></defs><g transform="matrix(1.9155509,0,0,1.9155509,13.5,9.1829188)"><use xlink:href="#s" transform="translate(0,-6)"/><g id="r"><use xlink:href="#s" transform="matrix(0.309017,0.9510565,-0.9510565,0.309017,-3,5.1961524)"/><use xlink:href="#s" transform="matrix(0.309017,0.9510565,-0.9510565,0.309017,-5.1961524,3)"/><use xlink:href="#s" transform="translate(6,0)"/><use xlink:href="#s" transform="matrix(-0.809017,0.5877853,-0.5877853,-0.809017,-5.1961524,-3)"/><use xlink:href="#s" transform="matrix(-0.809017,-0.5877853,0.5877853,-0.809017,-3,-5.1961524)"/></g><use xlink:href="#s" transform="translate(0,6)"/><use xlink:href="#r" transform="scale(-1,1)"/></g></svg>{{ avgCo2Class }}</span>
      </td>
    </tr>

    <tr ng-if="visible.avgGraph">
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#69e0ff; font-weight:500; text-shadow:0 0 3px rgba(0,255,255,0.4); border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        Average history:
      </td>
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        <svg viewBox="0 0 100 40" preserveAspectRatio="none" ng-attr-style="{{ 'width:100%; height:40px;' + (useCustomStyles ? ' background:rgba(0,200,255,0.05);' : '') }}">
          <polyline ng-attr-points="{{ fuelType === 'Food' ? instantHistory : avgHistory }}" ng-attr-style="{{ 'fill:none;stroke:' + (useCustomStyles ? '#5fdcff' : 'currentColor') + ';stroke-width:1;' }}"></polyline>
        </svg>
      </td>
    </tr>

    <tr ng-if="visible.avgKmLGraph">
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#69e0ff; font-weight:500; text-shadow:0 0 3px rgba(0,255,255,0.4); border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        Average {{ unitEfficiencyUnit }} history:
      </td>
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        <svg viewBox="0 0 100 40" preserveAspectRatio="none" ng-attr-style="{{ 'width:100%; height:40px;' + (useCustomStyles ? ' background:rgba(0,200,255,0.05);' : '') }}">
          <polyline ng-attr-points="{{ avgKmLHistory }}" ng-attr-style="{{ 'fill:none;stroke:' + (useCustomStyles ? '#5fdcff' : 'currentColor') + ';stroke-width:1;' }}"></polyline>
        </svg>
      </td>
    </tr>

    <tr ng-if="visible.instantLph || visible.instantL100km || visible.instantKmL">
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#69e0ff; font-weight:500; text-shadow:0 0 3px rgba(0,255,255,0.4); border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        Instant consumption:
      </td>
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#ccefff; border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        <span ng-if="visible.instantLph">{{ instantLph }}</span>
        <span ng-if="visible.instantLph && (visible.instantL100km || visible.instantKmL)"> | </span>
        <span ng-if="visible.instantL100km">{{ instantL100km }}</span>
        <span ng-if="visible.instantL100km && visible.instantKmL"> | </span>
        <span ng-if="visible.instantKmL">{{ instantKmL }}</span>
      </td>
    </tr>

    <tr ng-if="visible.instantCO2">
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#69e0ff; font-weight:500; text-shadow:0 0 3px rgba(0,255,255,0.4); border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        Instant CO2 emissions:
      </td>
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#ccefff; border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        {{ instantCO2 }}
      </td>
    </tr>

    <tr ng-if="visible.instantGraph">
        <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#69e0ff; font-weight:500; text-shadow:0 0 3px rgba(0,255,255,0.4); border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
          Instant {{ unitFlowUnit }} history:
        </td>
        <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
          <svg viewBox="0 0 100 40" preserveAspectRatio="none" ng-attr-style="{{ 'width:100%; height:40px;' + (useCustomStyles ? ' background:rgba(0,200,255,0.05);' : '') }}">
            <polyline ng-attr-points="{{ fuelType === 'Food' ? avgHistory : instantHistory }}" ng-attr-style="{{ 'fill:none;stroke:' + (useCustomStyles ? '#5fdcff' : 'currentColor') + ';stroke-width:1;' }}"></polyline>
          </svg>
        </td>
    </tr>

    <tr ng-if="visible.instantKmLGraph">
        <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#69e0ff; font-weight:500; text-shadow:0 0 3px rgba(0,255,255,0.4); border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
          Instant {{ unitEfficiencyUnit }} history:
        </td>
        <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
          <svg viewBox="0 0 100 40" preserveAspectRatio="none" ng-attr-style="{{ 'width:100%; height:40px;' + (useCustomStyles ? ' background:rgba(0,200,255,0.05);' : '') }}">
            <polyline ng-attr-points="{{ instantKmLHistory }}" ng-attr-style="{{ 'fill:none;stroke:' + (useCustomStyles ? '#5fdcff' : 'currentColor') + ';stroke-width:1;' }}"></polyline>
          </svg>
        </td>
    </tr>

    <tr ng-if="visible.range">
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#69e0ff; font-weight:500; text-shadow:0 0 3px rgba(0,255,255,0.4); border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        Range:
      </td>
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#ccefff; border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        {{ data4 }}
      </td>
    </tr>

    <tr ng-if="visible.tripAvgL100km || visible.tripAvgKmL">
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#ffa64d; font-weight:500; text-shadow:0 0 3px rgba(0,255,255,0.4); border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        Trip average consumption:
      </td>
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#FFE7CC; border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        <span ng-if="visible.tripAvgL100km" id="tripAvgDisplay">{{ tripAvgL100km }}</span>
        <span ng-if="visible.tripAvgL100km && visible.tripAvgKmL"> | </span>
        <span ng-if="visible.tripAvgKmL">{{ tripAvgKmL }}</span>
      </td>
    </tr>

    <tr ng-if="visible.tripGraph">
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#ffa64d; font-weight:500; text-shadow:0 0 3px rgba(0,255,255,0.4); border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        Trip average history:
      </td>
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#FFE7CC; border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        <svg viewBox="0 0 100 40" preserveAspectRatio="none" ng-attr-style="{{ 'width:100%; height:40px;' + (useCustomStyles ? ' background:rgba(0,200,255,0.05);' : '') }}">
          <polyline ng-attr-points="{{ tripAvgHistory }}" ng-attr-style="{{ 'fill:none;stroke:' + (useCustomStyles ? '#ffa64d' : 'currentColor') + ';stroke-width:1;' }}"></polyline>
        </svg>
      </td>
    </tr>

    <tr ng-if="visible.tripKmLGraph">
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#ffa64d; font-weight:500; text-shadow:0 0 3px rgba(0,255,255,0.4); border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        Trip average {{ unitEfficiencyUnit }} history:
      </td>
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#FFE7CC; border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        <svg viewBox="0 0 100 40" preserveAspectRatio="none" ng-attr-style="{{ 'width:100%; height:40px;' + (useCustomStyles ? ' background:rgba(0,200,255,0.05);' : '') }}">
          <polyline ng-attr-points="{{ tripAvgKmLHistory }}" ng-attr-style="{{ 'fill:none;stroke:' + (useCustomStyles ? '#ffa64d' : 'currentColor') + ';stroke-width:1;' }}"></polyline>
        </svg>
      </td>
    </tr>

    <tr ng-if="visible.tripDistance">
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#ffa64d; font-weight:500; text-shadow:0 0 3px rgba(0,255,255,0.4); border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        Trip distance:
      </td>
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#FFE7CC; border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        <span id="tripDistanceDisplay">{{ data8 }}</span>
      </td>
    </tr>

    <tr ng-if="visible.tripRange">
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#ffa64d; font-weight:500; text-shadow:0 0 3px rgba(0,255,255,0.4); border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        Trip range:
      </td>
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#FFE7CC; border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        {{ data9 }}
      </td>
    </tr>

    <tr ng-if="visible.tripFuelUsed">
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; width:38%; color:#ffa64d; font-weight:500; text-shadow:0 0 3px rgba(0,255,255,0.4); border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        Trip fuel used:
      </td>
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#FFE7CC; border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        <span>Liquid: {{ tripFuelUsedLiquid }}</span>
        <span> | </span>
        <span>Electricity: {{ tripFuelUsedElectric }}</span>
      </td>
    </tr>

    <tr ng-if="visible.tripAvgCost">
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#ffa64d; font-weight:500; text-shadow:0 0 3px rgba(0,255,255,0.4); border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        Trip average fuel cost:
      </td>
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#FFE7CC; border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        <span>Liquid: {{ tripAvgCostLiquid }}</span>
        <span> | </span>
        <span>Electricity: {{ tripAvgCostElectric }}</span>
      </td>
    </tr>

    <tr ng-if="visible.tripTotalCost">
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#ffa64d; font-weight:500; text-shadow:0 0 3px rgba(0,255,255,0.4); border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        Trip total fuel cost:
      </td>
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#FFE7CC; border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        <span>Liquid: {{ tripTotalCostLiquid }}</span>
        <span> | </span>
        <span>Electricity: {{ tripTotalCostElectric }}</span>
      </td>
    </tr>

    <tr ng-if="visible.tripReset">
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#ffa64d; font-weight:500; text-shadow:0 0 3px rgba(0,255,255,0.4); border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        Trip reset:
      </td>
      <td ng-attr-style="{{ useCustomStyles ? 'padding:3px 2px; color:#FFE7CC; border-bottom:1px solid rgba(0,180,255,0.10);' : '' }}">
        <span class="material-icons"
              ng-click="resetOverall($event)"
              ng-attr-style="{{ 'cursor:pointer; margin-left:6px;' + (useCustomStyles ? ' color:#ffa64d; text-shadow:0 0 5px rgba(0,255,255,0.6);' : '') }}">
          delete
        </span>
      </td>
    </tr>
  </table>

  <!-- Reset icon (global) -->
  <span class="material-icons"
        ng-click="reset($event)"
        ng-attr-style="{{ 'position:absolute; top:2px; right:4px; cursor:pointer; font-size:18px;' + (useCustomStyles ? ' color:#5fdcff; text-shadow:0 0 5px rgba(0,255,255,0.6);' : '') }}">
    autorenew
  </span>
  <!-- Style toggle icon -->
  <span class="material-icons"
        ng-click="toggleCustomStyles()"
        ng-attr-style="{{ 'position:absolute; top:24px; right:4px; cursor:pointer; font-size:18px;' + (useCustomStyles ? ' color:#5fdcff; text-shadow:0 0 5px rgba(0,255,255,0.6);' : '') }}">
    palette
  </span>
  <!-- Settings icon -->
  <span class="material-icons"
        ng-click="settingsOpen=!settingsOpen"
        ng-attr-style="{{ 'position:absolute; top:46px; right:4px; cursor:pointer; font-size:18px;' + (useCustomStyles ? ' color:#5fdcff; text-shadow:0 0 5px rgba(0,255,255,0.6);' : '') }}">
    settings
  </span>

  <!-- Settings dialog -->
  <div ng-if="settingsOpen"
       ng-attr-style="{{ 'position:absolute; top:68px; right:4px; z-index:10; background:rgba(0,0,0,0.85); padding:8px; border-radius:6px;' + (useCustomStyles ? ' color:#aeeaff; border:1px solid #5fdcff;' : ' color:#fff; border:1px solid #ccc; background:#333;') }}">
    <p id="fuelPriceNotice"
       ng-attr-style="{{ 'margin:4px 0;' + (useCustomStyles ? ' color:#aeeaff;' : '') }}">
      <a href=""
         ng-click="openFuelPriceEditor($event)"
         ng-attr-style="{{ useCustomStyles ? ' color:#aeeaff;' : '' }}">Open Fuel Price Editor</a>
    </p>
    <div ng-attr-style="{{ 'position:relative;' + (useCustomStyles ? '' : '') }}">
      <label>Units:
        <span ng-click="unitMenuOpen = !unitMenuOpen"
              ng-attr-style="{{ 'cursor:pointer; text-decoration:underline;' + (useCustomStyles ? ' color:#aeeaff;' : '') }}">{{ unitModeLabels[unitMode] }}</span>
      </label>
      <ul ng-if="unitMenuOpen"
          ng-attr-style="{{ 'list-style:none; margin:2px 0 0; padding:0; position:absolute; right:0; background:rgba(0,0,0,0.9); border:1px solid;' + (useCustomStyles ? ' border-color:#5fdcff; color:#aeeaff;' : ' border-color:#ccc; color:#fff;') }}">
        <li ng-repeat="(value,label) in unitModeOptions"
            ng-click="setUnit(value)"
            ng-attr-style="{{ 'padding:2px 6px; cursor:pointer;' + (useCustomStyles ? ' background:rgba(0,200,255,0.15);' : '') }}">{{ label }}</li>
      </ul>
    </div><br>
    <button id="settingsSaveButton" ng-click="saveSettings()"
            ng-attr-style="{{ 'margin-top:4px; font-size:0.8em; padding:2px 6px; cursor:pointer;' + (useCustomStyles ? ' color:#aeeaff; background:rgba(0,200,255,0.15); border:1px solid #5fdcff;' : 'color: #ff7722; border: 1px solid #ff7722;') }}">
      <span class="material-icons" ng-attr-style="{{ 'font-size:inherit; vertical-align:middle; margin-right:2px;' + (useCustomStyles ? '' : '') }}">save</span>Save
    </button><br><br>
    <label><input type="checkbox" ng-model="visible.heading"> Heading</label><br>
    <label><input type="checkbox" ng-model="visible.distanceMeasured"> Distance measured</label><br>
    <label><input type="checkbox" ng-model="visible.distanceEcu"> Distance from ECU</label><br>
    <label><input type="checkbox" ng-model="visible.fuelUsed"> Fuel used</label><br>
    <label><input type="checkbox" ng-model="visible.fuelLeft"> Fuel left</label><br>
    <label><input type="checkbox" ng-model="visible.fuelCap"> Fuel capacity</label><br>
    <label><input type="checkbox" ng-model="visible.fuelType"> Fuel type</label><br>
    <label><input type="checkbox" ng-model="visible.costPrice"> Fuel price</label><br>
    <label><input type="checkbox" ng-model="visible.avgCost"> Average fuel cost per {{ unitDistanceUnit }}</label><br>
    <label><input type="checkbox" ng-model="visible.totalCost"> Total fuel cost</label><br>
    <label><input type="checkbox" ng-model="visible.avgL100km"> Average {{ unitConsumptionUnit }}</label><br>
    <label><input type="checkbox" ng-model="visible.avgKmL"> Average {{ unitEfficiencyUnit }}</label><br>
    <label><input type="checkbox" ng-model="visible.avgCO2"> Average CO2 emissions</label><br>
    <label><input type="checkbox" ng-model="visible.avgGraph"> Average history</label><br>
    <label><input type="checkbox" ng-model="visible.avgKmLGraph"> Average {{ unitEfficiencyUnit }} history</label><br>
    <label><input type="checkbox" ng-model="visible.instantLph"> Instant {{ unitFlowUnit }}</label><br>
    <label><input type="checkbox" ng-model="visible.instantL100km"> Instant {{ unitConsumptionUnit }}</label><br>
    <label><input type="checkbox" ng-model="visible.instantKmL"> Instant {{ unitEfficiencyUnit }}</label><br>
    <label><input type="checkbox" ng-model="visible.instantCO2"> Instant CO2 emissions</label><br>
    <label><input type="checkbox" ng-model="visible.instantGraph"> Instant history</label><br>
    <label><input type="checkbox" ng-model="visible.instantKmLGraph"> Instant {{ unitEfficiencyUnit }} history</label><br>
    <label><input type="checkbox" ng-model="visible.range"> Range</label><br>
    <label><input type="checkbox" ng-model="visible.tripAvgL100km"> Trip average {{ unitConsumptionUnit }}</label><br>
    <label><input type="checkbox" ng-model="visible.tripAvgKmL"> Trip average {{ unitEfficiencyUnit }}</label><br>
    <label><input type="checkbox" ng-model="visible.tripGraph"> Trip average history</label><br>
    <label><input type="checkbox" ng-model="visible.tripKmLGraph"> Trip average {{ unitEfficiencyUnit }} history</label><br>
    <label><input type="checkbox" ng-model="visible.tripDistance"> Trip distance</label><br>
    <label><input type="checkbox" ng-model="visible.tripRange"> Trip range</label><br>
    <label><input type="checkbox" ng-model="visible.tripFuelUsed"> Trip fuel used</label><br>
    <label><input type="checkbox" ng-model="visible.tripAvgCost"> Trip average fuel cost per {{ unitDistanceUnit }}</label><br>
    <label><input type="checkbox" ng-model="visible.tripTotalCost"> Trip total fuel cost</label><br>
    <label><input type="checkbox" ng-model="visible.tripReset"> Trip reset</label><br><br>
    <button id="settingsSaveButton" ng-click="saveSettings()"
            ng-attr-style="{{ 'margin-top:4px; font-size:0.8em; padding:2px 6px; cursor:pointer;' + (useCustomStyles ? ' color:#aeeaff; background:rgba(0,200,255,0.15); border:1px solid #5fdcff;' : 'color: #ff7722; border: 1px solid #ff7722;') }}">
      <span class="material-icons" ng-attr-style="{{ 'font-size:inherit; vertical-align:middle; margin-right:2px;' + (useCustomStyles ? '' : '') }}">save</span>Save
    </button><br><br>
    <p ng-attr-style="{{ useCustomStyles ? 'margin-top:4px; color:#aeeaff; font-size: 11px; font-style: italic;' : '' }}">Fuel Economy v1.0.9</p>
  </div>
</div>
